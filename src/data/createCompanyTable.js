import pool from "../config/db.js";

const createCompanyTable = async () => {

    const queryText=`CREATE TABLE IF NOT EXISTS public.company
(
    id bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY ( CYCLE INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 9223372036854775807 CACHE 1 ),
    name text COLLATE pg_catalog."default",
    address text COLLATE pg_catalog."default",
    city text COLLATE pg_catalog."default",
    province text COLLATE pg_catalog."default",
    country text COLLATE pg_catalog."default",
    postal text COLLATE pg_catalog."default",
    email text COLLATE pg_catalog."default",
    cell text COLLATE pg_catalog."default",
    owner text COLLATE pg_catalog."default",
    ownercell text COLLATE pg_catalog."default",
    createdat timestamp with time zone,
    active boolean DEFAULT true,
    modifiedat timestamp with time zone,
    CONSTRAINT company_pkey PRIMARY KEY (id),
    CONSTRAINT company_cell_key UNIQUE (cell),
    CONSTRAINT company_email_key UNIQUE (email)
)

TABLESPACE pg_default;

ALTER TABLE IF EXISTS public.company
    OWNER to postgres;`;

    try {
        pool.query(queryText);
        console.log("Company Table Created");
    } catch (error) {
       
        console.log("Error Creating Company table :",error); 
    }
}

export default createCompanyTable;